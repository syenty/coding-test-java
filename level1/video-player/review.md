https://school.programmers.co.kr/learn/courses/30/lessons/340213

## 🧩 문제 개요

- **문제 이름:** 동영상 재생기 (프로그래머스 340213)
- **핵심 요구사항:**
  - 동영상의 길이(`video_len`), 현재 위치(`pos`), 오프닝 구간(`op_start`, `op_end`), 명령어 배열(`commands`)을 입력받아
  - `prev`(10초 전), `next`(10초 후), **오프닝 자동 스킵 기능**을 구현하는 문제.
  - 모든 시간은 `"mm:ss"` 포맷으로 주어진다.

---

## 🧠 초기 접근

```java
String[] times = pos.split(":");
int m = Integer.parseInt(times[0]);
int s = Integer.parseInt(times[1]);
```

- 명령어를 순회하며 분(`m`), 초(`s`)를 직접 계산.
- `prev`면 -10초, `next`면 +10초.
- 0초 미만, 영상 길이 초과에 대한 보정 로직 추가.
- 오프닝 구간(`op_start ~ op_end`)에 진입하면 `op_end`로 이동.

### 🚨 주요 문제점

1. **`pos` 값을 루프 내에서 갱신하지 않음**
   - 매 루프마다 초기 `pos` 기준으로만 계산 → 명령이 누적되지 않음.
2. **경계 처리 방식 오류**
   - `answer` 문자열만 갱신하고, 실제 위치(`m`, `s`)는 클램프되지 않음.
3. **오프닝 스킵 타이밍 누락**
   - 초기 위치나 명령 수행 후 오프닝에 진입하는 경우를 모두 커버하지 못함.
4. **분/초 계산의 복잡성**
   - 단순 초 단위(`int`)로 변환했으면 간단해졌을 로직을 직접 나누어 구현함.

---

## 🔧 개선 과정

### 1. 시간 단위 통합

- `"mm:ss"`를 `int 초` 단위로 변환하여 계산 단순화.

### 2. 오프닝 스킵 로직 분리

```java
private static int skipOpening(int cur, int ops, int ope) {
    return (cur >= ops && cur <= ope) ? ope : cur;
}
```

- 오프닝 범위(`ops ≤ cur ≤ ope`)에 들어오면 즉시 `ope`로 이동.

### 3. 명령 실행 순서 정리

- 각 명령(`prev`, `next`) 실행 → 경계 클램프 → 오프닝 스킵 → 다음 명령 순으로 처리.

### 4. 누적 반영 및 포맷 통일

- `pos` 대신 `cur` 변수를 사용하여 누적 반영.
- 최종 출력 시 `toStr()`으로 `"mm:ss"` 형식 복원.

---

## 💡 배운 점

- 루프 내 상태값(`pos`)은 반드시 **누적 반영 변수로 관리**해야 함.
- 시간 계산은 **분/초 단위 분리보다 초 단위 통합 계산이 안전**함.
- 경계값(0초, 영상 끝, 오프닝 범위) 처리 순서를 명확히 설계해야 함.
- 문제의 의도는 **상태 변화의 순서와 시점 제어**에 있음.
- String.format("%02d:%02d", m, s)로 코드 간결하게 바꿀 수 있음
- Math.max(a, b), Math.min(a, b)를 이용해 0초 여부와 끝나는 시간 여부 확인 가능

---
